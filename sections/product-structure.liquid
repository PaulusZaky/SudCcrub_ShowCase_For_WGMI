{%- render 'section-spacing-collapsing' -%}

{%- comment -%}
  ------------------------------------------------------------------------------------------------------------------------
  CSS
  ------------------------------------------------------------------------------------------------------------------------
{%- endcomment -%}
<style>
  {%- assign block_size = section.settings.block_size -%}

  #shopify-section-{{ section.id }} .section-blends {
    background-image: none;
    padding: 32px 0;
    background-image: url("https://cdn.shopify.com/s/files/1/0496/2936/4391/files/structure-section-bg-mobile.png?v=1724731852");
    background-size: cover;
  }

  .structure-container {
    padding: 0 21.5px;
  }

  .structure-container img {
    width: 300px;
    margin: auto;
    object-fit: cover;
  }
  .goshop-btn-container {
    display: flex;
    flex-direction: column;
    justify-content: center;
    gap: 12px;
  }
  .goshop-btn-container.abs-position {
    position: relative;
    max-width: auto;
  }
  .goshop {
    width: 276px;
    padding: 18px 0;
    margin: auto;
  }
  .goshop a {
    font-size: 16px;
    font-weight: 700;
    line-height: 15.8px;
    gap: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .goshop svg {
    width: 16px;
    height: 16px;
  }
  .overlay-goshop-reviewstar-container {
    text-align: center;
  }
  .goshop-btn-container svg {
    width: 16px;
    height: 16px;
  }
  #shopify-section-{{ section.id }} .overlay-goshop-right {
    margin: auto;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    gap: 12px;
  }
  #shopify-section-{{ section.id }} .overlay-goshop-right div,
  #shopify-section-{{ section.id }} .overlay-goshop-right p
  {
    line-height: 0;
  }
  .goshop-btn-container div p {
    margin: auto;
    font-size: 12px;
    line-height: 15.3px;
  }
  .image-desktop {
    display: none;
  }
  .image-mobile {
    display: block;
  }

  @media screen and (min-width: 700px) {
    #shopify-section-{{ section.id }} .section-blends {
      padding: 80px 0;
      background-image: url("https://cdn.shopify.com/s/files/1/0496/2936/4391/files/structure-section-bg-desktop.png?v=1724731827") !important;
    }
    .structure-container img {
      width: auto;
    }
    .goshop-btn-container {
      gap: 20.7px;
    }

    .goshop-btn-container.abs-position {
      position: absolute;
      max-width: auto;
      bottom: 80px;
      left: 64.7vw;
      gap: 12px;
    }
    .goshop {
      width: 343px;
    }
    .goshop-btn-container.abs-position .goshop {
      margin-left: 0;
      width: calc(100vw * 0.2286);
      padding: 12px;
    }
    .goshop a {
      font-size: 20px;
      line-height: 19.8px;
    }
    .abs-position .goshop a {
      font-size: 15px;
      line-height: 14.8px;
    }
    .structure-container {
      padding: 0 50px;
    }
    .structure-container.abs-position {
      padding: 0 74px 0 40px;
    }
    .goshop-btn-container.abs-position {
      max-width: auto;
      justify-content: left;
      bottom: 80px;
      left: calc(40px + (100vw - 40px - 74px) * 0.668);
    }
    .goshop-btn-container div p {
      font-size: 16px;
    }
    .primary-image {
      grid-row: 1 / 3;
      grid-column: 2 / 3;
      margin: auto;
    }
    .overlay-goshop-right {
      flex-direction: row;
      gap: 8px;
    }
    #shopify-section-{{ section.id }} .abs-position .overlay-goshop-right {
      flex-direction: column;
      gap: 10px;
    }
    #shopify-section-{{ section.id }} .abs-position .overlay-goshop-right svg{
      width: 12px;
      height: 12px;
    }
    #shopify-section-{{ section.id }} .abs-position .overlay-goshop-right p{
      font-size: 12px;
    }

    .image-desktop {
      display: block;
    }
    .image-mobile {
      display: none;
    }

    {% comment %} .abs-position .image-desktop {
      display: none;
    }
    .abs-position .image-mobile {
      display: block;
    } {% endcomment %}
  }

  @media screen and (min-width: 1000px) {
    .structure-container {
      padding: 0 70px;
    }
    .structure-container.abs-position {
      padding: 0 147px 0 80px;
    }
    .goshop-btn-container.abs-position {
      left: calc(80px + (100vw - 80px - 147px) * 0.668);
      gap: 16px;
    }
    .goshop-btn-container.abs-position .goshop {
      padding: 15px;
    }
    .goshop-btn-container.abs-position .goshop a {
      font-size: 18px;
      line-height: 17.8px;
    }
    {% comment %} .abs-position .image-desktop {
      display: block;
    }
    .abs-position .image-mobile {
      display: none;
    } {% endcomment %}
    #shopify-section-{{ section.id }} .abs-position .overlay-goshop-right {
      flex-direction: row;
      gap: 8px;
    }
    #shopify-section-{{ section.id }} .abs-position .overlay-goshop-right svg{
      width: 14px;
      height: 14px;
    }
    #shopify-section-{{ section.id }} .abs-position .overlay-goshop-right p{
      font-size: 12px;
    }
  }
  @media screen and (min-width: 1200px) {
    #shopify-section-{{ section.id }} .abs-position .overlay-goshop-right {
      flex-direction: row;
      gap: 8px;
    }
    #shopify-section-{{ section.id }} .abs-position .overlay-goshop-right svg{
      width: 16px;
      height: 16px;
    }
    #shopify-section-{{ section.id }} .abs-position .overlay-goshop-right p{
      font-size: 16px;
    }
  }
  @media screen and (min-width: 1400px) {
    .structure-container {
      padding: 0 120px;
    }
    .structure-container.abs-position {
      padding: 0 311px 0 169px;
    }
    .goshop-btn-container.abs-position {
      left: calc(169px + (100vw - 169px - 311px) * 0.668);
      gap: 20.7px;
    }
    .goshop-btn-container.abs-position .goshop {
      padding: 18px;
    }
    .goshop-btn-container.abs-position .goshop a {
      font-size: 20px;
      line-height: 17.8px;
    }
  }
  @media screen and (min-width: 1800px) {
    .goshop-btn-container.abs-position .goshop {
      width: 410px;
    }
  }
</style>

{%- comment -%}
  ------------------------------------------------------------------------------------------------------------------------
  LIQUID
  ------------------------------------------------------------------------------------------------------------------------
{%- endcomment -%}

<div {% render 'section-properties' %}>
  <div class="section-stack">
    {%- render 'section-header',
      subheading: section.settings.subheading,
      heading: section.settings.title,
      heading_color: section.settings.heading_color,
      heading_gradient: section.settings.heading_gradient,
      content: section.settings.content,
      link_text: section.settings.link_text,
      link_url: section.settings.link_url
    -%}

    <div class="structure-container{% if section.settings.abs_position %} abs-position{% endif %}">
      {% for block in section.blocks %}
        <picture>
          {%- if block.settings.image_mobile != blank -%}
            {{-
              block.settings.image_mobile
              | image_url: width: block.settings.image_mobile.width
              | image_tag:
                sizes: sizes,
                widths: '50,100,200,300,400,500,600,700,800,900,1000,1200,1400,1600,1800,2000,2200,2400,2600,2800,3000,3200',
                class: 'image-mobile'
            -}}
          {%- endif -%}
          {% if block.settings.image != blank %}
            {{-
              block.settings.image
              | image_url: width: block.settings.image.width
              | image_tag:
                sizes: sizes,
                widths: '200,300,400,500,600,700,800,900,1000,1200,1400,1600,1800,2000,2200,2400,2600,2800,3000,3200',
                class: 'image-desktop'
            -}}
          {% endif %}
        </picture>
        <div class="text-wrapper">
          {% if block.settings.desc_title != blank %}
            <h3>{{ block.settings.desc_title }}</h3>
          {% endif %}
          {% if block.settings.content != blank %}
            <p>{{ block.settings.content }}</p>
          {% endif %}
        </div>
      {% endfor %}
    </div>
    <div class="goshop-btn-container{% if section.settings.abs_position %} abs-position{% endif %}">
      {%- if section.settings.btn_text != blank -%}
        <div class="goshop">
          <a href="{{section.settings.url}}">
            {{- section.settings.btn_text }}
            {%- render 'overlay-shopnow-btn-arrowicon' -%}
          </a>
        </div>
      {%- endif -%}
      <div class="overlay-goshop-right">
        <div class="overlay-goshop-reviewstar-container">
          {%- render 'review-star' -%}
          {%- render 'review-star' -%}
          {%- render 'review-star' -%}
          {%- render 'review-star' -%}
          {%- render 'review-star' -%}
        </div>
        <p>Loved by <b>785</b> Happy Customers</p>
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Product Structure",
  "class": "shopify-section--product-structure",
  "tag": "section",
  "blocks": [
    {
      "name": "Structure Description",
      "type": "str_desc",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image for desktop",
          "info": "150 x 150px .jpg recommended"
        },
        {
          "type": "image_picker",
          "id": "image_mobile",
          "label": "Image for mobile",
          "info": "150 x 150px .jpg recommended"
        }
      ]
    }
  ],
  "settings": [
    {
      "type": "checkbox",
      "id": "full_width",
      "label": "Full width",
      "default": false
    },
    {
      "type": "text",
      "id": "title",
      "label": "Heading"
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "Subheading"
    },
    {
      "type": "text",
      "id": "btn_text",
      "label": "Text",
      "default": "Button text"
    },
    {
      "type": "url",
      "id": "btn_url",
      "label": "Link"
    },
    {
      "type": "checkbox",
      "id": "abs_position",
      "label": "Absolute Position"
    },
    {
      "type": "color",
      "id": "background",
      "label": "Background"
    },
    {
      "type": "color_background",
      "id": "background_gradient",
      "label": "Background gradient"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text"
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading color"
    },
    {
      "type": "color_background",
      "id": "heading_gradient",
      "label": "Heading gradient"
    }
  ],
  "presets": [
    {
      "name": "Product Structure"
    }
  ]
}
{% endschema %}
